# MiniMax TV 项目概览

## 📊 项目信息

| 项目属性 | 详情 |
|---------|------|
| 项目名称 | MiniMax TV |
| 应用类型 | Android TV 应用 |
| 目标平台 | Android TV (API 21+) |
| 开发语言 | Kotlin |
| UI框架 | Android Leanback |
| 许可协议 | 仅供学习使用 |

## 🎯 项目目标

将网站 https://www.5m9m1o8e7e9.shop/ 转换为适合安卓TV运行的应用程序，提供：
- TV友好的用户界面
- 流畅的视频播放体验
- 简单易用的遥控器操作

## 📁 项目结构

```
android-tv-app/
├── app/                                    # 应用模块
│   ├── src/main/
│   │   ├── java/com/tvapp/minimax/        # Kotlin源代码
│   │   │   ├── MainActivity.kt             # 主活动
│   │   │   ├── WebViewActivity.kt          # WebView活动
│   │   │   ├── VideoPlayerActivity.kt      # 视频播放器
│   │   │   ├── SearchFragment.kt           # 搜索功能
│   │   │   ├── CardPresenter.kt            # 卡片展示器
│   │   │   ├── Movie.kt                    # 数据模型
│   │   │   ├── TVApplication.kt            # 应用类
│   │   │   └── RemoteControllerHelper.kt   # 遥控器工具
│   │   ├── res/                            # 资源文件
│   │   │   ├── layout/                     # 布局文件
│   │   │   ├── values/                     # 颜色、字符串、主题
│   │   │   ├── drawable/                   # 图标和背景
│   │   │   └── mipmap-hdpi/                # 应用图标
│   │   ├── AndroidManifest.xml             # 清单文件
│   │   └── proguard-rules.pro              # 代码混淆规则
│   ├── build.gradle                        # 应用构建配置
│   └── proguard-rules.pro                  # 全局混淆规则
├── gradle/                                 # Gradle Wrapper
├── build.gradle                            # 项目构建配置
├── settings.gradle                         # 项目设置
├── gradlew                                 # Gradle Wrapper脚本 (Unix)
├── gradlew.bat                             # Gradle Wrapper脚本 (Windows)
├── README.md                               # 项目说明
├── 安装和使用指南.md                        # 详细使用指南
└── 项目概览.md                             # 本文件
```

## 🏗️ 架构设计

### 架构模式
- **MVC模式**: 简单的模型-视图-控制器架构
- **单Activity多Fragment**: 使用Fragment管理不同页面

### 核心组件

#### 1. MainActivity
- **职责**: 应用入口，主页面展示
- **功能**:
  - 使用BrowseSupportFragment展示内容列表
  - 管理分类和菜单导航
  - 处理用户选择和页面跳转

#### 2. WebViewActivity
- **职责**: 网页浏览和视频链接检测
- **功能**:
  - 加载目标网站
  - 检测视频链接并跳转播放器
  - 支持全屏视频播放
  - 处理网页导航和后退

#### 3. VideoPlayerActivity
- **职责**: 专用视频播放器
- **功能**:
  - 播放各种格式的视频
  - 支持遥控器快捷键
  - 提供播放控制界面
  - 视频进度管理

#### 4. SearchFragment
- **职责**: 搜索功能实现
- **功能**:
  - 搜索框输入处理
  - 搜索结果展示
  - 与主界面集成

### 数据流

```
用户操作 → MainActivity → WebViewActivity/VideoPlayerActivity
     ↓
  遥控器输入 → 焦点管理 → 组件响应
     ↓
  网络请求 → 数据加载 → 界面更新
```

## 🎨 UI设计

### 设计原则
1. **TV优先**: 针对大屏幕和遥控器操作优化
2. **简洁清晰**: 减少复杂元素，突出主要内容
3. **易于导航**: 清晰的视觉层次和焦点指示

### 颜色方案
- **主色**: #FF2196F3 (蓝色)
- **背景**: #FF121212 (深色)
- **卡片**: #FF1E1E1E (灰色)
- **文本**: #FFFFFF (白色)

### 布局特点
- **卡片式布局**: 易于浏览和选择
- **大尺寸控件**: 适合遥控器操作
- **焦点高亮**: 清晰的视觉反馈

## 🔧 技术实现

### WebView优化
```kotlin
webView.settings.apply {
    javaScriptEnabled = true
    domStorageEnabled = true
    loadWithOverviewMode = true
    useWideViewPort = true
    cacheMode = WebSettings.LOAD_DEFAULT
    mediaPlaybackRequiresUserGesture = false
}
```

### 视频播放支持
- VideoView + MediaController
- 支持多种视频格式
- 自动全屏检测
- 遥控器快捷键

### 遥控器导航
- 方向键导航
- 焦点管理
- 动画反馈
- 按键映射

## 📦 依赖项

### 核心依赖
- `androidx.core:core-ktx:1.12.0`
- `androidx.appcompat:appcompat:1.6.1`
- `androidx.leanback:leanback:1.0.0`

### UI组件
- `com.google.android.material:material:1.10.0`
- `androidx.constraintlayout:constraintlayout:2.1.4`

### 生命周期
- `androidx.fragment:fragment-ktx:1.6.2`
- `androidx.lifecycle:lifecycle-viewmodel-ktx:2.7.0`

## 🔐 安全考虑

### 网络安全
- HTTPS优先
- 网络状态检查
- 错误处理机制

### 数据保护
- 不存储敏感信息
- 缓存管理
- 内存泄漏防护

### 权限管理
- 最小权限原则
- 明确权限声明
- 运行时权限检查

## 📈 性能优化

### WebView优化
- 启用硬件加速
- 缓存策略优化
- 图片懒加载
- JavaScript优化

### 视频播放优化
- 预加载机制
- 缓冲区管理
- 画质自适应
- 后台播放控制

### 内存管理
- 对象池复用
- 及时释放资源
- 避免内存泄漏
- 垃圾回收优化

## 🚀 部署方案

### 开发环境
- Android Studio Arctic Fox+
- JDK 11+
- Android SDK 34
- Gradle 8.0+

### 构建命令
```bash
# Debug版本
./gradlew assembleDebug

# Release版本
./gradlew assembleRelease

# 安装到设备
./gradlew installDebug
```

### 签名配置
- 创建密钥库
- 配置签名信息
- 启用代码混淆
- 生成发布版APK

## 📝 开发规范

### 代码规范
- 遵循Kotlin编码规范
- 使用有意义的命名
- 添加必要的注释
- 保持代码简洁

### Git工作流
- 功能分支开发
- Pull Request审核
- 语义化提交信息
- 定期代码审查

### 测试策略
- 单元测试覆盖核心逻辑
- UI测试验证交互
- 集成测试确保功能
- 性能测试监控指标

## 🔄 后续计划

### 功能增强
- [ ] 收藏功能
- [ ] 历史记录
- [ ] 个性化推荐
- [ ] 多语言支持

### 技术优化
- [ ] 性能监控系统
- [ ] 崩溃日志收集
- [ ] A/B测试框架
- [ ] 自动化测试

### 用户体验
- [ ] 手势操作支持
- [ ] 语音搜索
- [ ] 主题自定义
- [ ] 无障碍优化

## 📊 评估指标

### 性能指标
- 应用启动时间 < 3秒
- 页面加载时间 < 5秒
- 视频缓冲时间 < 10秒
- 内存占用 < 200MB

### 用户体验
- 流畅的导航体验
- 稳定的视频播放
- 响应及时的遥控器操作
- 清晰的用户界面

## 🤝 贡献指南

### 贡献方式
1. Fork项目
2. 创建功能分支
3. 提交更改
4. 创建Pull Request

### 代码要求
- 遵循现有代码风格
- 添加必要的测试
- 更新相关文档
- 确保构建通过

## 📄 许可证

本项目仅供学习和研究使用。使用本项目时请遵守以下原则：
- 尊重网站内容版权
- 遵守相关法律法规
- 不得用于商业目的
- 不得恶意传播或滥用

## 📞 联系方式

- 开发者: MiniMax团队
- 项目地址: [GitHub仓库链接]
- 反馈邮箱: [联系邮箱]
- 问题反馈: [Issue页面链接]

---

**最后更新**: 2025-12-17
**项目版本**: 1.0.0
**文档版本**: 1.0.0